(this["webpackJsonpchord-scale"]=this["webpackJsonpchord-scale"]||[]).push([[0],{14:function(e,t,a){e.exports={palleteContainer:"palleteModal_palleteContainer__3OGp-",rootsPallete:"palleteModal_rootsPallete__3_dXj",typesPallete:"palleteModal_typesPallete__WmV_B",modalFooter:"palleteModal_modalFooter__1gFTx",openModalBtnWrapper:"palleteModal_openModalBtnWrapper__2YSvv"}},18:function(e,t,a){e.exports={chordPallete:"chordPallete_chordPallete__3airV",title:"chordPallete_title__3Ydpp",options:"chordPallete_options__1cq5m"}},29:function(e,t,a){e.exports={chordNotes:"chordNotes_chordNotes__wRTbN"}},30:function(e,t,a){e.exports={box:"chordPalleteOption_box__2YWJ6"}},31:function(e,t,a){},32:function(e,t,a){e.exports=a(54)},37:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),o=(a(37),a(28)),s=a(7),i=a(8),d=a(10),p=a(9),u=a(11),m=a(3),h=a.n(m),f=a(2),b=a(6),x=a(4),g=function(e){return r.a.createElement("span",{className:"jsx-3731938765 letter"},e.children,r.a.createElement(h.a,{id:"3731938765"},[".letter.jsx-3731938765{font-size:1.7rem;color:#837f7f;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}"]))},y=a(17),w=a.n(y),v=a(29),k=a.n(v),j=function(e){return Object(n.useEffect)((function(){document.getElementById("chordNotes").innerHTML="";var t=new w.a.Flow.Factory({renderer:{elementId:"chordNotes",width:220,height:150}}),a=t.EasyScore();t.System().addStave({voices:[a.voice(a.notes("(".concat(e.notes.join(" "),")/w")))]}).addClef("treble"),t.draw()})),r.a.createElement("div",{className:k.a.chordNotesWrapper,id:"chordNotes"})},E=a(12),S=a(13),N=function(e){return r.a.createElement("div",{onClick:function(){return e.onClick()},className:"jsx-2022068941 btn"},r.a.createElement(E.a,{icon:S.b}),r.a.createElement("span",{className:"jsx-2022068941"},e.children),r.a.createElement(h.a,{id:"2022068941"},["div.jsx-2022068941{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:4px;border:none;height:30%;min-width:15%;padding:0 2%;color:#fff;background:#21a1c7;cursor:pointer;font-size:1rem;}","div.jsx-2022068941 span.jsx-2022068941{margin-left:10%;}"]))},C=function(e,t){f.Transport.cancel(),e.triggerAttackRelease(t,"1m")},O=function(e){var t=new f.PolySynth(4,f.Synth).connect(new f.Gain(.1).toMaster());return r.a.createElement(N,{onClick:function(){C(t,e.notes)}},"Play chord")},_=function(e){return r.a.createElement("div",{className:"jsx-3715912069 card"},e.children,r.a.createElement(h.a,{id:"3715912069"},[".card.jsx-3715912069{border-radius:5%;box-shadow:0px 2px 3px -2px rgba(0,0,0,0.5);min-width:50%;height:60%;background-color:#fff;}"]))},W=function(e){return r.a.createElement("div",{className:"jsx-2967822796"},r.a.createElement(E.a,{color:"#21a1c7",icon:S.a,onClick:function(){return e.onClick()}}),r.a.createElement(h.a,{id:"2967822796"},["div.jsx-2967822796{cursor:pointer;}"]))},M=a(23),B=a.n(M),P=a(30),q=a.n(P),T=function(e){return r.a.createElement("div",{onClick:function(){e.selectOption(e.children)},className:q.a.box},r.a.createElement("span",null,e.children))},R=a(18),A=a.n(R),F=function(e){return r.a.createElement("div",{className:A.a.chordPallete},r.a.createElement("span",{className:A.a.title},e.title),r.a.createElement("div",{className:A.a.options},e.choices.map((function(t){return r.a.createElement(T,{key:t,selectOption:function(){e.selectOption(t)}},t)}))))},G=a(14),D=a.n(G);B.a.setAppElement("#root");var z={content:{top:"50%",left:"50%",width:"70%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},I=function(e){return r.a.createElement("div",null,r.a.createElement(B.a,{style:z,isOpen:e.modalIsOpen,onRequestClose:e.closeModal},r.a.createElement("div",{className:D.a.palleteContainer},r.a.createElement("div",{className:D.a.rootsPallete},r.a.createElement(F,Object.assign({selectOption:function(t){return e.selectOption(t,"root")}},e.pallete.roots))),r.a.createElement("div",{className:D.a.typesPallete},r.a.createElement(F,Object.assign({selectOption:function(t){return e.selectOption(t,"type")}},e.pallete.types)))),r.a.createElement("div",{className:D.a.modalFooter},r.a.createElement("button",{onClick:e.closeModal},"Close"))))},L=function(e){var t=b.a.chord(Object.values(e)).notes,a=b.c.note(t[0]).chroma<7?4:3;return t=t.map((function(e,n){return n>0&&b.c.note(e).chroma<b.c.note(t[n-1]).chroma&&(a+=1),e+a.toString()}))},V=function(e){var t=L(e.chord),a=Object(n.useState)(!1),l=Object(x.a)(a,2),c=l[0],o=l[1];return r.a.createElement(_,null,r.a.createElement("div",{className:"jsx-110471469 letterButtonWrapper"},r.a.createElement("div",{className:"jsx-110471469 letterWrapper"},r.a.createElement(g,null,Object.values(e.chord).join(""))),r.a.createElement(W,{onClick:function(){o(!0)}},"Change chord")),r.a.createElement("div",{className:"jsx-110471469 playerNotesWrapper"},r.a.createElement(O,{notes:t}),r.a.createElement("div",{className:"jsx-110471469 notesWrapper"},r.a.createElement(j,{notes:t}))),r.a.createElement(I,{modalIsOpen:c,closeModal:function(){o(!1)},selectOption:function(t,a){e.editChord(t,a)},pallete:e.pallete}),r.a.createElement(h.a,{id:"110471469"},[".card.jsx-110471469{border-radius:5%;box-shadow:0px 2px 3px -2px rgba(0,0,0,0.5);width:40%;height:35%;background-color:#fff;}",".letterButtonWrapper.jsx-110471469{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30%;padding:3% 3%;}",".letterWrapper.jsx-110471469{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20%;width:20%;margin-right:5%;}",".playerNotesWrapper.jsx-110471469{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:50%;padding:0 5%;}",".notesWrapper.jsx-110471469{margin-left:5%;}"]))},J=function(e){return r.a.createElement("div",{onClick:function(){return e.onClick()},className:"jsx-120754201 btn"},r.a.createElement(E.a,{icon:S.b}),r.a.createElement("span",{className:"jsx-120754201"},e.children),r.a.createElement(h.a,{id:"120754201"},["div.jsx-120754201{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:4px;border:none;height:60%;min-width:15%;padding:0 10%;color:#fff;background:#2ec721;cursor:pointer;font-size:1rem;}","div.jsx-120754201 span.jsx-120754201{margin-left:10%;}"]))},Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={synth:new f.Synth({oscillator:{type:"square"}}).connect(new f.Gain(.1).toMaster()),polySynth:new f.PolySynth(4,f.Synth).connect(new f.Gain(.1).toMaster())},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getNewSequence",value:function(){var e=this;f.Transport.cancel();var t=L(this.props.chord);new f.Part((function(t,a){e.state.polySynth.triggerAttackRelease(a,"2m",t)}),[[0,t]]).start(0).loop=!1,new f.Sequence((function(t,a){e.state.synth.triggerAttackRelease(a,"4n",t)}),this.props.notes,"4n").start(0).loop=!1}},{key:"playChordScale",value:function(){this.getNewSequence(),f.Transport.stop(),f.Transport.position=0,f.Transport.start()}},{key:"render",value:function(){return r.a.createElement(J,{onClick:this.playChordScale.bind(this)},"Play Both")}}]),t}(n.Component),H=function(e){return r.a.createElement("footer",{className:"jsx-4293720314"},r.a.createElement(h.a,{id:"4293720314"},["footer.jsx-4293720314{background-color:#21a1c7;width:100%;height:3%;position:fixed;bottom:0;}"]))},U=function(e){return r.a.createElement("header",{className:"jsx-2488720641"},r.a.createElement("h1",{className:"jsx-2488720641"},e.children),r.a.createElement(h.a,{id:"2488720641"},["header.jsx-2488720641{background-color:#21a1c7;position:fixed;width:100%;}","header.jsx-2488720641 h1.jsx-2488720641{margin-left:3%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;font-weight:lighter;}"]))},X=a(31),$=a.n(X),K=w.a.Flow,Q=K.Accidental,Z=K.Formatter,ee=K.Stave,te=K.StaveNote,ae=K.Renderer,ne=/[#b]+/,re=/\d/,le=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).wrapperRef=r.a.createRef(),a.state={renderer:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({renderer:new ae(this.wrapperRef.current,ae.Backends.SVG)})}},{key:"componentDidUpdate",value:function(){this.renderScale()}},{key:"firstStaveNotes",value:function(){return this.props.notes.slice(0,4).map((function(e){var t=e.match(ne),a=e.match(re)[0],n=new te({clef:"treble",keys:[e.slice(0,1).toLowerCase()+"/"+a],duration:"q"});return t&&n.addAccidental(0,new Q(t[0])),n}))}},{key:"secondStaveNotes",value:function(){for(var e=this.props.notes.slice(4,this.props.notes.length),t=e.map((function(e){var t=e.match(ne),a=e.match(re)[0],n=new te({clef:"treble",keys:[e.substring(0,1).toLowerCase()+"/"+a],duration:"q"});return t&&n.addAccidental(0,new Q(t[0])),n})),a=4-e.length,n=0;n<a;n++)t.push(new te({clef:"treble",keys:["b/4"],duration:"qr"}));return t}},{key:"renderScale",value:function(){this.state.renderer.resize(750,100);var e=this.state.renderer.getContext();e.clear(),e.setViewBox(0,0,1200,100);var t=new ee(20,0,300);t.addClef("treble"),t.setContext(e).draw();var a=this.firstStaveNotes();Z.FormatAndDraw(e,t,a);var n=new ee(320,0,300);n.setContext(e).draw();var r=this.secondStaveNotes();Z.FormatAndDraw(e,n,r)}},{key:"render",value:function(){return r.a.createElement("div",{className:$.a.scaleNotesWrapper,id:"scaleNotes",ref:this.wrapperRef,dangerouslySetInnerHTML:{__html:""}})}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={synth:new f.Synth({oscillator:{type:"square"}}).connect(new f.Gain(.1).toMaster()),sequence:a.getNewSequence()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getNewSequence",value:function(){var e=this;f.Transport.cancel();var t=new f.Sequence((function(t,a){e.state.synth.triggerAttackRelease(a,"4n",t)}),this.props.notes,"4n").start(0);return t.loop=!1,t}},{key:"playScale",value:function(){this.getNewSequence(),f.Transport.stop(),f.Transport.position=0,f.Transport.start()}},{key:"render",value:function(){return r.a.createElement(N,{onClick:this.playScale.bind(this),id:"playChord"},"Play scale")}}]),t}(n.Component),oe=function(e){return r.a.createElement("div",{className:"jsx-1153228613 wrapper"},r.a.createElement("select",{value:e.currentScale,onChange:function(t){return e.onScaleChange(t.target.value)},className:"jsx-1153228613"},e.chordScales.map((function(e){return r.a.createElement("option",{value:e,key:e,className:"jsx-1153228613"},e)}))),r.a.createElement(h.a,{id:"1153228613"},[".wrapper.jsx-1153228613 select.jsx-1153228613{cursor:pointer;outline:none;background:transparent;box-shadow:none;color:#333;}"]))},se=function(e){return r.a.createElement(_,null,r.a.createElement("div",{className:"jsx-1497759585 letterButtonWrapper"},r.a.createElement("div",{className:"jsx-1497759585 letterWrapper"},r.a.createElement(g,null,e.chord.root+" "+e.currentScale)),r.a.createElement(oe,{currentScale:e.currentScale,chordScales:e.chordScales,onScaleChange:function(t){e.onScaleChange(t)}})),r.a.createElement("div",{className:"jsx-1497759585 playerNotesWrapper"},r.a.createElement(ce,{notes:e.currentScaleNotes}),r.a.createElement("div",{className:"jsx-1497759585 notesWrapper"},r.a.createElement(le,{notes:e.currentScaleNotes}))),r.a.createElement(h.a,{id:"1497759585"},[".letterButtonWrapper.jsx-1497759585{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30%;padding:3% 3%;}",".letterWrapper.jsx-1497759585{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20%;min-width:60%;margin-right:5%;}",".playerNotesWrapper.jsx-1497759585{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:50%;padding:0 5%;}",".notesWrapper.jsx-1497759585{margin-left:5%;}"]))},ie=function(e){var t=Object(n.useState)(120),a=Object(x.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"bpmSlider"},"BPM"),r.a.createElement("input",{name:"bpmSlider",type:"range",min:"60",max:"200",value:l,onChange:function(t){var a=t.target.value;e.onBpmChange(a),c(a)}}),l)},de=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={chord:{root:"C",type:"M7"},pallete:{roots:{title:"Roots",choices:["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"]},types:{title:"Chord Types",choices:["M","m","M7","m7","7","mM7"]}},chordScales:[],currentScale:"",currentScaleNotes:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateScale()}},{key:"componentDidUpdate",value:function(e,t){t.chord!==this.state.chord&&this.updateScale()}},{key:"getChordScales",value:function(){return b.a.chordScales(Object.values(this.state.chord).join(""))}},{key:"getScaleNotes",value:function(e){return b.b.scale(this.state.chord.root+"4 "+e).notes}},{key:"updateScale",value:function(){var e=this.getChordScales()[0];this.setState({chordScales:this.getChordScales(),currentScale:e,currentScaleNotes:this.getScaleNotes(e)})}},{key:"handleEditChord",value:function(e,t){var a=Object(o.a)({},this.state.chord);a[t]=e,this.setState({chord:a})}},{key:"handleScaleChange",value:function(e){this.setState({currentScale:e,currentScaleNotes:b.b.scale(this.state.chord.root+"4 "+e).notes})}},{key:"handleBpmChange",value:function(e){f.Transport.bpm.value=e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"jsx-3123105050 wrapper"},r.a.createElement(U,null,"ScaleGrasper"),r.a.createElement("div",{className:"jsx-3123105050 container"},r.a.createElement("div",{className:"jsx-3123105050 cardsWrapper"},r.a.createElement(V,{chord:this.state.chord,pallete:this.state.pallete,editChord:function(t,a){e.handleEditChord(t,a)}}),r.a.createElement(se,{chord:this.state.chord,chordScales:this.state.chordScales,currentScale:this.state.currentScale,currentScaleNotes:this.state.currentScaleNotes,onScaleChange:function(t){return e.handleScaleChange(t)}})),r.a.createElement("div",{className:"jsx-3123105050 controllerWrapper"},r.a.createElement(ie,{onBpmChange:function(t){return e.handleBpmChange(t)}})),r.a.createElement("div",{className:"jsx-3123105050 chordScaleWrapper"},r.a.createElement(Y,{notes:this.state.currentScaleNotes,chord:this.state.chord}))),r.a.createElement(H,null),r.a.createElement(h.a,{id:"3123105050"},[".wrapper.jsx-3123105050{height:100%;}",".container.jsx-3123105050{display:flex: justify-content:center;padding:0 5%;margin:0 auto;height:100%;}",".cardsWrapper.jsx-3123105050{margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:75%;}",".controllerWrapper.jsx-3123105050{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 auto;}",".chordScaleWrapper.jsx-3123105050{width:10%;height:10%;margin:0 auto;margin-top:3%;}"]))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.902485df.chunk.js.map